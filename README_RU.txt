# Голосовой помощник "Роз" (Roz)

Голосовой помощник с графическим интерфейсом на Python. Постоянно слушает микрофон, активируется по имени ("Роз" или "Roz"), выполняет команды (открытие приложений, сайтов, поиск в Google, сообщение времени, включение музыки, закрытие приложений). Можно добавлять свои команды через удобный интерфейс или консоль.

## Требования

- Python 3.7 или выше
- Микрофон
- Доступ в интернет (для распознавания речи Google Speech Recognition)

## Установка

1. Убедитесь, что Python установлен. Проверьте:
python --version

text

2. Установите необходимые библиотеки:
pip install speechrecognition pyttsx3 pyaudio flet

text
Если возникают проблемы с PyAudio:
- **Windows**: скачайте соответствующую версию с [https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyaudio](https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyaudio) и установите через `pip install <файл.whl>`.
- **Linux**: `sudo apt-get install portaudio19-dev python3-pyaudio`
- **macOS**: `brew install portaudio` и затем `pip install pyaudio`

## Запуск

Сохраните код в файл, например `roz.py`, и выполните:
python roz.py

text
Откроется окно с тремя вкладками: **Главная**, **Консоль**, **Список**.

## Использование

### Голосовое управление

1. Скажите **"Роз"** (или "Roz").
2. Помощник ответит **"Слушаю"**.
3. Произнесите команду:
   - **"открой блокнот"** – откроет Блокнот.
   - **"открой youtube"** – откроет YouTube в браузере.
   - **"найди погода в Москве"** – выполнит поиск в Google.
   - **"сколько времени"** – скажет текущее время.
   - **"включи музыку"** – откроет случайный музыкальный файл из папки `~/Music`.
   - **"закрой калькулятор"** – попытается закрыть приложение (по имени процесса).
   - **"пока"** – завершит работу помощника.

### Консольная вкладка

В консольной вкладке можно вводить текстовые команды. Если команда начинается с системного слова (`help`, `pink`, `pank`, `add`, `remove`, `list`, `clear`, `exit`), она обрабатывается как управляющая. Иначе – как обычная голосовая команда (например, "открой блокнот").

Системные команды:
- `help` – показать справку.
- `pink` – включить прослушивание голоса (после отключения).
- `pank` – отключить прослушивание голоса (помощник перестаёт реагировать на имя).
- `add <команда> <путь/url> [отображаемое_имя] [тип] [тип_триггера]` – добавить свою команду.
   - `тип`: `app` (приложение) или `site` (сайт), по умолчанию `app`.
   - `тип_триггера`: `prefix` (стандартная, после "открой") или `exact` (произвольная фраза), по умолчанию `prefix`.
   - Пример: `add стим "C:\Program Files\Steam\Steam.exe" "Steam" app prefix`
   - Пример: `add "хочу играть" "C:\Program Files\Steam\Steam.exe" "Steam" app exact`
- `remove <команда>` – удалить команду.
- `list` – показать все добавленные команды.
- `clear` – очистить лог консоли.
- `exit` – выйти из программы.

### Вкладка «Список» (добавление своих команд)

Здесь можно добавлять и удалять свои команды через графический интерфейс.

1. Выберите **тип команды**:
   - *Стандартная (открой/запусти)* – команда будет активироваться фразой "открой X", где X – указанная голосовая команда.
   - *Произвольная фраза* – команда сработает при точном совпадении произнесённой фразы (например, "хочу играть").
2. Введите **голосовую команду** (обязательно). Например, `стим` или `хочу играть`.
3. При необходимости введите **отображаемое имя** (для красоты в списке). Если не указано, будет использована голосовая команда.
4. Укажите **путь к файлу** (для приложения) или **URL** (для сайта). Для приложений можно нажать "Обзор".
5. Выберите **тип элемента**: Приложение или Сайт.
6. Нажмите **Добавить**.

Элемент появится в списке. При голосовой команде "Роз, открой стим" (для стандартной) или "Роз, хочу играть" (для произвольной) запустится указанное приложение или откроется сайт.

Удалить элемент можно, выбрав его в списке и нажав "Удалить выбранное" (упрощённо – через консольную команду `remove`).

## Примеры команд

| Что сказать                            | Что произойдёт                          |
|----------------------------------------|------------------------------------------|
| Роз, открой блокнот                    | Запустится Блокнот                       |
| Роз, открой youtube                     | Откроется YouTube в браузере              |
| Роз, найди рецепт борща                 | Поиск в Google                            |
| Роз, сколько времени                    | Сообщит текущее время                     |
| Роз, включи музыку                      | Воспроизведёт случайный трек из `~/Music` |
| Роз, закрой калькулятор                 | Попытается закрыть Калькулятор            |
| Роз, пока                               | Завершение работы                         |

## Возможные проблемы и решения

### 1. Ошибка при установке PyAudio
   - **Windows**: скачайте колесо с [lfd.uci.edu](https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyaudio) и установите вручную.
   - **Linux**: `sudo apt-get install portaudio19-dev python3-pyaudio`
   - **macOS**: `brew install portaudio && pip install pyaudio`

### 2. Не работает распознавание речи
   - Убедитесь, что есть интернет.
   - Проверьте микрофон: работает ли он в других приложениях.
   - Увеличьте громкость микрофона.

### 3. Приложение не открывается по команде
   - Проверьте путь к файлу в настройках (особенно если использовали ручной ввод). Путь должен быть правильным.
   - Для приложений из PATH (например, `calc.exe`) можно указывать просто имя.

### 4. Ошибка "module 'flet' has no attribute ..."
   - Убедитесь, что используется последняя версия Flet: `pip install --upgrade flet`
   - Если ошибка остаётся, установите версию 0.24.1: `pip install flet==0.24.1`

### 5. Программа не видит микрофон
   - Запустите с правами администратора (на некоторых системах требуется доступ к микрофону).

## Лицензия

Этот проект распространяется под лицензией MIT. Вы можете свободно использовать, изменять и распространять его.

## Контакты

Если у вас есть вопросы или предложения, создайте issue на GitHub или свяжитесь с автором.
